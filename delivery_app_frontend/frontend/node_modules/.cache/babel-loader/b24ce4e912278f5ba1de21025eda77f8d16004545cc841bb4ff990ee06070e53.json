{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"modal fade show\",\n  style: {\n    \"display\": \"block\"\n  },\n  tabindex: \"-1\"\n};\nconst _hoisted_2 = {\n  class: \"modal-dialog\"\n};\nconst _hoisted_3 = {\n  class: \"modal-content\"\n};\nconst _hoisted_4 = {\n  class: \"modal-header\"\n};\nconst _hoisted_5 = {\n  class: \"modal-body\"\n};\nconst _hoisted_6 = {\n  class: \"mb-3\"\n};\nconst _hoisted_7 = {\n  class: \"mb-3\"\n};\nconst _hoisted_8 = {\n  class: \"mb-3\"\n};\nconst _hoisted_9 = {\n  class: \"mb-3\"\n};\nconst _hoisted_10 = {\n  key: 1,\n  class: \"modal-backdrop fade show\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [$props.isVisible ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_cache[7] || (_cache[7] = _createElementVNode(\"h5\", {\n    class: \"modal-title\"\n  }, \"Adicionar Cliente\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn styledb\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.closeModal && $options.closeModal(...args))\n  }, _cache[6] || (_cache[6] = [_createElementVNode(\"i\", {\n    class: \"material-icons-round opacity-10\",\n    \"aria-hidden\": \"true\"\n  }, \"close\", -1 /* HOISTED */)]))]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"form\", {\n    onSubmit: _cache[5] || (_cache[5] = _withModifiers((...args) => $options.addClient && $options.addClient(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_6, [_cache[8] || (_cache[8] = _createElementVNode(\"label\", {\n    for: \"nomeCompleto\",\n    class: \"form-label\"\n  }, \"Nome Completo\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control border p-2\",\n    id: \"nomeCompleto\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.nomeCompleto = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.nomeCompleto]])]), _createElementVNode(\"div\", _hoisted_7, [_cache[9] || (_cache[9] = _createElementVNode(\"label\", {\n    for: \"cpf\",\n    class: \"form-label\"\n  }, \"CPF\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control border p-2\",\n    id: \"cpf\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.cpf = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.cpf]])]), _createElementVNode(\"div\", _hoisted_8, [_cache[10] || (_cache[10] = _createElementVNode(\"label\", {\n    for: \"dataNascimento\",\n    class: \"form-label\"\n  }, \"Data de Nascimento\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    class: \"form-control border p-2\",\n    id: \"dataNascimento\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.dataNascimento = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.dataNascimento]])]), _createElementVNode(\"div\", _hoisted_9, [_cache[12] || (_cache[12] = _createElementVNode(\"label\", {\n    for: \"tipoPessoa\",\n    class: \"form-label\"\n  }, \"Tipo de Pessoa\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    class: \"form-select border p-2\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.tipoPessoa = $event),\n    required: \"\"\n  }, _cache[11] || (_cache[11] = [_createElementVNode(\"option\", {\n    value: \"1\"\n  }, \"Física\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"2\"\n  }, \"Jurídica\", -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $data.tipoPessoa]])]), _cache[13] || (_cache[13] = _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"btn btn-dark\"\n  }, \"Salvar\", -1 /* HOISTED */))], 32 /* NEED_HYDRATION */)])])])])) : _createCommentVNode(\"v-if\", true), $props.isVisible ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10)) : _createCommentVNode(\"v-if\", true)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["key","class","style","tabindex","_createElementBlock","_Fragment","$props","isVisible","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","type","onClick","_cache","args","$options","closeModal","_hoisted_5","onSubmit","_withModifiers","addClient","_hoisted_6","for","id","$event","$data","nomeCompleto","required","_hoisted_7","cpf","_hoisted_8","dataNascimento","_hoisted_9","tipoPessoa","value","_createCommentVNode","_hoisted_10"],"sources":["C:\\Gabriel\\Codes\\SGMW\\resources\\delivery_app_frontend\\frontend\\src\\views\\components\\Forms\\FormRegisterConsumers.vue"],"sourcesContent":["<template>\r\n  <div\r\n    v-if=\"isVisible\"\r\n    class=\"modal fade show\"\r\n    style=\"display: block\"\r\n    tabindex=\"-1\"\r\n  >\r\n    <div class=\"modal-dialog\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <h5 class=\"modal-title\">Adicionar Cliente</h5>\r\n          <button type=\"button\" class=\"btn styledb\" @click=\"closeModal\">\r\n            <i class=\"material-icons-round opacity-10\" aria-hidden=\"true\"\r\n              >close</i\r\n            >\r\n          </button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <form @submit.prevent=\"addClient\">\r\n            <div class=\"mb-3\">\r\n              <label for=\"nomeCompleto\" class=\"form-label\">Nome Completo</label>\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control border p-2\"\r\n                id=\"nomeCompleto\"\r\n                v-model=\"nomeCompleto\"\r\n                required\r\n              />\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"cpf\" class=\"form-label\">CPF</label>\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control border p-2\"\r\n                id=\"cpf\"\r\n                v-model=\"cpf\"\r\n                required\r\n              />\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"dataNascimento\" class=\"form-label\"\r\n                >Data de Nascimento</label\r\n              >\r\n              <input\r\n                type=\"date\"\r\n                class=\"form-control border p-2\"\r\n                id=\"dataNascimento\"\r\n                v-model=\"dataNascimento\"\r\n                required\r\n              />\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"tipoPessoa\" class=\"form-label\">Tipo de Pessoa</label>\r\n              <select\r\n                class=\"form-select border p-2\"\r\n                v-model=\"tipoPessoa\"\r\n                required\r\n              >\r\n                <option value=\"1\">Física</option>\r\n                <option value=\"2\">Jurídica</option>\r\n              </select>\r\n            </div>\r\n            <button type=\"submit\" class=\"btn btn-dark\">Salvar</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div v-if=\"isVisible\" class=\"modal-backdrop fade show\"></div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"FormRegisterConsumers\",\r\n  props: {\r\n    isVisible: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      nomeCompleto: \"\",\r\n      cpf: \"\",\r\n      dataNascimento: \"\",\r\n      tipoPessoa: 1,\r\n    };\r\n  },\r\n  methods: {\r\n    formatCPF(cpf) {\r\n      const numbers = cpf.replace(/\\D/g, \"\");\r\n      if (numbers.length === 11) {\r\n        return `${numbers.slice(0, 3)}.${numbers.slice(3, 6)}.${numbers.slice(\r\n          6,\r\n          9\r\n        )}-${numbers.slice(9)}`;\r\n      }\r\n      return cpf;\r\n    },\r\n\r\n    formatDateOfBirth(date) {\r\n      const parsedDate = new Date(date);\r\n      const year = parsedDate.getFullYear();\r\n      const month = String(parsedDate.getMonth() + 1).padStart(2, \"0\"); // Adiciona 1 ao mês e preenche com zero\r\n      const day = String(parsedDate.getDate()).padStart(2, \"0\"); // Preenche com zero\r\n      return `${year}-${month}-${day}`;\r\n    },\r\n\r\n    async addClient() {\r\n      const formattedCpf = this.formatCPF(this.cpf);\r\n      const formattedDateOfBirth = this.formatDateOfBirth(this.dataNascimento);\r\n\r\n      const newClient = {\r\n        nome_completo: this.nomeCompleto,\r\n        tipo_pessoa: Number(this.tipoPessoa),\r\n        cpf: formattedCpf,\r\n        data_nascimento: formattedDateOfBirth, // Data formatada\r\n        tipo_cadastro: 2,\r\n      };\r\n\r\n      try {\r\n        await axios.post(\"http://localhost:8000/api/v2/clientes\", newClient);\r\n        this.closeModal(); // Feche o modal após a operação\r\n      } catch (error) {\r\n        console.error(\"Erro ao adicionar cliente:\", error);\r\n      }\r\n    },\r\n\r\n    closeModal() {\r\n      // Emitir evento para o componente pai\r\n      this.$emit(\"update:isVisible\", false);\r\n      this.resetForm(); // Resetar o formulário ao fechar\r\n    },\r\n\r\n    resetForm() {\r\n      this.nomeCompleto = \"\";\r\n      this.cpf = \"\";\r\n      this.dataNascimento = \"\";\r\n      this.tipoPessoa = 1;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.modal-backdrop {\r\n  opacity: 0.5;\r\n}\r\n\r\n.styledb {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}